<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ichimoku: Auxiliary Functions • ichimoku</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/simplex/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet">
<meta property="og:title" content="ichimoku: Auxiliary Functions">
<meta property="og:description" content="ichimoku">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ichimoku</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">1.1.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/reference.html">ichimoku: Cloud Charts - The Reference Manual</a>
    </li>
    <li>
      <a href="../articles/strategies.html">ichimoku: Beyond Visualization - Quantitative Strategies</a>
    </li>
    <li>
      <a href="../articles/utilities.html">ichimoku: Auxiliary Functions</a>
    </li>
    <li>
      <a href="../articles/xoanda.html">ichimoku: The OANDA fxTrade API</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/shikokuchuo/ichimoku/">
    <span class="fa fa-github"></span>
     
  </a>
</li>
<li>
  <a href="https://shikokuchuo.net/">
    <span class="fa fa-cube"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="utilities_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>ichimoku: Auxiliary Functions</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/shikokuchuo/ichimoku/blob/master/vignettes/utilities.Rmd"><code>vignettes/utilities.Rmd</code></a></small>
      <div class="hidden name"><code>utilities.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://shikokuchuo.net/ichimoku/">ichimoku</a></span><span class="op">)</span></code></pre></div>
<div id="introduction" class="section level2">
<h2 class="hasAnchor">
<a href="#introduction" class="anchor"></a>Introduction</h2>
<p>This vignette is dedicated to the auxiliary functions exported by the ichimoku package.</p>
<p>Note that all of the auxiliary functions are programmed for performance and are hence stripped of superfluous validation and error-checking code. If they are used outside of their intended scopes then errors can be expected. In particular, the input types must match exactly.</p>
<div id="core-auxiliary-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#core-auxiliary-functions" class="anchor"></a>Core Auxiliary Functions</h3>
<div id="tradingdays" class="section level4">
<h4 class="hasAnchor">
<a href="#tradingdays" class="anchor"></a>tradingDays()</h4>
<p>Used to subset a vector of dates to trading days. Note: if the argument ‘holidays’ (or ‘noholidays’) is passed to <code><a href="../reference/ichimoku.html">ichimoku()</a></code>, this is passed through to this function when calculating the dates for the future cloud.</p>
<p>Takes the following arguments:</p>
<ul>
<li>
<code>x</code> a vector of POSIXct dates.</li>
<li>
<code>holidays</code> (optional) a vector, or function which outputs a vector, of dates defined as holidays. If not specified, New Year’s and Christmas day are defined as holidays by default.</li>
<li>
<code>...</code> not used.</li>
<li>
<code>noholidays</code> (optional) if set, bypasses the function logic and selects all dates in ‘x’.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/seq.html">seq</a></span><span class="op">(</span>from <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/as.POSIXlt.html">as.POSIXct</a></span><span class="op">(</span><span class="st">"2020-01-01"</span><span class="op">)</span>, by <span class="op">=</span> <span class="st">"1 day"</span>, length.out <span class="op">=</span> <span class="fl">7</span><span class="op">)</span>
<span class="va">dates</span>
<span class="co">#&gt; [1] "2020-01-01 UTC" "2020-01-02 UTC" "2020-01-03 UTC" "2020-01-04 UTC"</span>
<span class="co">#&gt; [5] "2020-01-05 UTC" "2020-01-06 UTC" "2020-01-07 UTC"</span>
<span class="fu"><a href="../reference/tradingDays.html">tradingDays</a></span><span class="op">(</span><span class="va">dates</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE  TRUE  TRUE FALSE FALSE  TRUE  TRUE</span>
<span class="fu"><a href="../reference/tradingDays.html">tradingDays</a></span><span class="op">(</span><span class="va">dates</span>, holidays <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2020-01-01"</span>, <span class="st">"2020-01-02"</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt; [1] FALSE FALSE  TRUE FALSE FALSE  TRUE  TRUE</span>
<span class="fu"><a href="../reference/tradingDays.html">tradingDays</a></span><span class="op">(</span><span class="va">dates</span>, noholidays <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="co">#&gt; [1] TRUE TRUE TRUE TRUE TRUE TRUE TRUE</span></code></pre></div>
</div>
<div id="look" class="section level4">
<h4 class="hasAnchor">
<a href="#look" class="anchor"></a>look()</h4>
<p>Can be used to inspect the informational attributes of objects created by the ichimoku package. This includes ichimoku objects or objects returned by <code><a href="../reference/autostrat.html">autostrat()</a></code>, <code><a href="../reference/mlgrid.html">mlgrid()</a></code> or <code><a href="../reference/oanda.html">oanda()</a></code>.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cloud</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ichimoku.html">ichimoku</a></span><span class="op">(</span><span class="va">sample_ohlc_data</span>, ticker <span class="op">=</span> <span class="st">"TKR"</span><span class="op">)</span>
<span class="fu"><a href="../reference/look.html">look</a></span><span class="op">(</span><span class="va">cloud</span><span class="op">)</span>
<span class="co">#&gt; $periods</span>
<span class="co">#&gt; [1]  9 26 52</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $periodicity</span>
<span class="co">#&gt; [1] 86400</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $ticker</span>
<span class="co">#&gt; [1] "TKR"</span>

<span class="va">grid</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mlgrid.html">mlgrid</a></span><span class="op">(</span><span class="va">cloud</span><span class="op">)</span>
<span class="fu"><a href="../reference/look.html">look</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span>
<span class="co">#&gt; $y</span>
<span class="co">#&gt; [1] "logret"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $direction</span>
<span class="co">#&gt; [1] "long"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $ticker</span>
<span class="co">#&gt; [1] "TKR"</span></code></pre></div>
<p>Can also be used to extract ichimoku objects from lists returned by <code><a href="../reference/autostrat.html">autostrat()</a></code>. Specify the argument ‘which’, to return the corresponding element of the list created by <code><a href="../reference/autostrat.html">autostrat()</a></code>.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">stratlist</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/autostrat.html">autostrat</a></span><span class="op">(</span><span class="va">cloud</span>, n <span class="op">=</span> <span class="fl">3</span><span class="op">)</span>
<span class="co">#&gt;                        [,1]                [,2]               </span>
<span class="co">#&gt; Strategy               "senkouB &gt; tenkan"  "cloudB &gt; tenkan"  </span>
<span class="co">#&gt; ---------------------  "----------"        "----------"       </span>
<span class="co">#&gt; Strategy cuml return % 17.49               16.08              </span>
<span class="co">#&gt; Per period mean ret %  0.0906              0.0838             </span>
<span class="co">#&gt; Periods in market      63                  51                 </span>
<span class="co">#&gt; Total trades           3                   3                  </span>
<span class="co">#&gt; Average trade length   21                  17                 </span>
<span class="co">#&gt; Trade success %        100                 100                </span>
<span class="co">#&gt; Worst trade ret %      3.64                3.16               </span>
<span class="co">#&gt; ---------------------  "----------"        "----------"       </span>
<span class="co">#&gt; Benchmark cuml ret %   5.53                5.53               </span>
<span class="co">#&gt; Per period mean ret %  0.0302              0.0302             </span>
<span class="co">#&gt; Periods in market      178                 178                </span>
<span class="co">#&gt; ---------------------  "----------"        "----------"       </span>
<span class="co">#&gt; Direction              "long"              "long"             </span>
<span class="co">#&gt; Start                  2020-03-31 23:00:00 2020-03-31 23:00:00</span>
<span class="co">#&gt; End                    2020-10-29          2020-10-29         </span>
<span class="co">#&gt; Ticker                 "TKR"               "TKR"              </span>
<span class="co">#&gt;                        [,3]               </span>
<span class="co">#&gt; Strategy               "senkouB &gt; kijun"  </span>
<span class="co">#&gt; ---------------------  "----------"       </span>
<span class="co">#&gt; Strategy cuml return % 14.1               </span>
<span class="co">#&gt; Per period mean ret %  0.0741             </span>
<span class="co">#&gt; Periods in market      64                 </span>
<span class="co">#&gt; Total trades           3                  </span>
<span class="co">#&gt; Average trade length   21.33              </span>
<span class="co">#&gt; Trade success %        100                </span>
<span class="co">#&gt; Worst trade ret %      3.49               </span>
<span class="co">#&gt; ---------------------  "----------"       </span>
<span class="co">#&gt; Benchmark cuml ret %   5.53               </span>
<span class="co">#&gt; Per period mean ret %  0.0302             </span>
<span class="co">#&gt; Periods in market      178                </span>
<span class="co">#&gt; ---------------------  "----------"       </span>
<span class="co">#&gt; Direction              "long"             </span>
<span class="co">#&gt; Start                  2020-03-31 23:00:00</span>
<span class="co">#&gt; End                    2020-10-29         </span>
<span class="co">#&gt; Ticker                 "TKR"</span>

<span class="co"># Extract the ichimoku object which is the second element of 'stratlist':</span>
<span class="va">strat</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/look.html">look</a></span><span class="op">(</span><span class="va">stratlist</span>, which <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="co"># Inspect ichimoku object:</span>
<span class="fu"><a href="../reference/look.html">look</a></span><span class="op">(</span><span class="va">strat</span><span class="op">)</span>
<span class="co">#&gt; $periods</span>
<span class="co">#&gt; [1]  9 26 52</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $periodicity</span>
<span class="co">#&gt; [1] 86400</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $ticker</span>
<span class="co">#&gt; [1] "TKR"</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $strat</span>
<span class="co">#&gt;                        [,1]               </span>
<span class="co">#&gt; Strategy               "cloudB &gt; tenkan"  </span>
<span class="co">#&gt; ---------------------  "----------"       </span>
<span class="co">#&gt; Strategy cuml return % 16.08              </span>
<span class="co">#&gt; Per period mean ret %  0.0838             </span>
<span class="co">#&gt; Periods in market      51                 </span>
<span class="co">#&gt; Total trades           3                  </span>
<span class="co">#&gt; Average trade length   17                 </span>
<span class="co">#&gt; Trade success %        100                </span>
<span class="co">#&gt; Worst trade ret %      3.16               </span>
<span class="co">#&gt; ---------------------  "----------"       </span>
<span class="co">#&gt; Benchmark cuml ret %   5.53               </span>
<span class="co">#&gt; Per period mean ret %  0.0302             </span>
<span class="co">#&gt; Periods in market      178                </span>
<span class="co">#&gt; ---------------------  "----------"       </span>
<span class="co">#&gt; Direction              "long"             </span>
<span class="co">#&gt; Start                  2020-03-31 23:00:00</span>
<span class="co">#&gt; End                    2020-10-29         </span>
<span class="co">#&gt; Ticker                 "TKR"</span></code></pre></div>
</div>
</div>
<div id="performant-dataframe-constructors" class="section level3">
<h3 class="hasAnchor">
<a href="#performant-dataframe-constructors" class="anchor"></a>Performant Dataframe Constructors</h3>
<div id="xts_df" class="section level4">
<h4 class="hasAnchor">
<a href="#xts_df" class="anchor"></a>xts_df()</h4>
<p>Convert an ‘xts’ object to ‘data.frame’. This function can be an order of magnitude faster than <code>as.data.frame</code> for an ‘xts’ object.</p>
<p>Takes the following arguments:</p>
<ul>
<li>
<code>x</code> the ‘xts’ object to convert to ‘data.frame’.</li>
<li>
<code>keep.attrs</code> (optional) if set to TRUE, will preserve any custom attributes set on the original object.</li>
</ul>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cloud</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ichimoku.html">ichimoku</a></span><span class="op">(</span><span class="va">sample_ohlc_data</span><span class="op">)</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/xts_df.html">xts_df</a></span><span class="op">(</span><span class="va">cloud</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    281 obs. of  13 variables:</span>
<span class="co">#&gt;  $ index  : POSIXct, format: "2020-01-02 00:00:00" "2020-01-03 00:00:00" ...</span>
<span class="co">#&gt;  $ open   : num  123 123 123 123 124 ...</span>
<span class="co">#&gt;  $ high   : num  123 123 123 124 125 ...</span>
<span class="co">#&gt;  $ low    : num  122 123 122 123 124 ...</span>
<span class="co">#&gt;  $ close  : num  123 123 123 124 125 ...</span>
<span class="co">#&gt;  $ cd     : num  -1 1 1 1 1 1 -1 0 -1 -1 ...</span>
<span class="co">#&gt;  $ tenkan : num  NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ kijun  : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ senkouA: num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ senkouB: num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ chikou : num  123 123 123 124 124 ...</span>
<span class="co">#&gt;  $ cloudT : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ cloudB : num  NA NA NA NA NA NA NA NA NA NA ...</span>

<span class="co"># Preserving custom attributes:</span>
<span class="va">df2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/xts_df.html">xts_df</a></span><span class="op">(</span><span class="va">cloud</span>, keep.attrs <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df2</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    281 obs. of  13 variables:</span>
<span class="co">#&gt;  $ index  : POSIXct, format: "2020-01-02 00:00:00" "2020-01-03 00:00:00" ...</span>
<span class="co">#&gt;  $ open   : num  123 123 123 123 124 ...</span>
<span class="co">#&gt;  $ high   : num  123 123 123 124 125 ...</span>
<span class="co">#&gt;  $ low    : num  122 123 122 123 124 ...</span>
<span class="co">#&gt;  $ close  : num  123 123 123 124 125 ...</span>
<span class="co">#&gt;  $ cd     : num  -1 1 1 1 1 1 -1 0 -1 -1 ...</span>
<span class="co">#&gt;  $ tenkan : num  NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ kijun  : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ senkouA: num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ senkouB: num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ chikou : num  123 123 123 124 124 ...</span>
<span class="co">#&gt;  $ cloudT : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ cloudB : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  - attr(*, "periods")= int [1:3] 9 26 52</span>
<span class="co">#&gt;  - attr(*, "periodicity")= num 86400</span>
<span class="co">#&gt;  - attr(*, "ticker")= chr "sample_ohlc_data"</span></code></pre></div>
</div>
<div id="matrix_df" class="section level4">
<h4 class="hasAnchor">
<a href="#matrix_df" class="anchor"></a>matrix_df()</h4>
<p>Convert a matrix to ‘data.frame’. This function can be twice as fast as <code><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame()</a></code> for a matrix.</p>
<p>Takes the following arguments:</p>
<ul>
<li>
<code>x</code> the matrix to convert to ‘data.frame’.</li>
<li>
<code>keep.attrs</code> (optional) if set to TRUE, will preserve any custom attributes set on the original object.</li>
</ul>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">cloud</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/ichimoku.html">ichimoku</a></span><span class="op">(</span><span class="va">sample_ohlc_data</span><span class="op">)</span>
<span class="va">mcloud</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">cloud</span><span class="op">)</span>
<span class="va">df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/matrix_df.html">matrix_df</a></span><span class="op">(</span><span class="va">mcloud</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span>
<span class="co">#&gt; 'data.frame':    281 obs. of  12 variables:</span>
<span class="co">#&gt;  $ open   : num  123 123 123 123 124 ...</span>
<span class="co">#&gt;  $ high   : num  123 123 123 124 125 ...</span>
<span class="co">#&gt;  $ low    : num  122 123 122 123 124 ...</span>
<span class="co">#&gt;  $ close  : num  123 123 123 124 125 ...</span>
<span class="co">#&gt;  $ cd     : num  -1 1 1 1 1 1 -1 0 -1 -1 ...</span>
<span class="co">#&gt;  $ tenkan : num  NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ kijun  : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ senkouA: num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ senkouB: num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ chikou : num  123 123 123 124 124 ...</span>
<span class="co">#&gt;  $ cloudT : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="co">#&gt;  $ cloudB : num  NA NA NA NA NA NA NA NA NA NA ...</span>
<span class="fu"><a href="https://rdrr.io/r/utils/str.html">str</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/row.names.html">row.names</a></span><span class="op">(</span><span class="va">df</span><span class="op">)</span><span class="op">)</span>
<span class="co">#&gt;  chr [1:281] "2020-01-02 00:00:00" "2020-01-03 00:00:00" ...</span></code></pre></div>
</div>
</div>
<div id="dataframe-manipulation-functions" class="section level3">
<h3 class="hasAnchor">
<a href="#dataframe-manipulation-functions" class="anchor"></a>Dataframe Manipulation Functions</h3>
<div id="df_trim" class="section level4">
<h4 class="hasAnchor">
<a href="#df_trim" class="anchor"></a>df_trim()</h4>
<p>Trim rows containing NA values from a ‘data.frame’ object. This is a faster version of <code>stats:::na.omit()</code>.</p>
<p>Takes a single argument:</p>
<ul>
<li>
<code>x</code> the data.frame to trim.</li>
</ul>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="cn">NA</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">NA</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span>
<span class="va">data</span>
<span class="co">#&gt;   c.1.4..NA. c.NA..2.5.</span>
<span class="co">#&gt; 1          1         NA</span>
<span class="co">#&gt; 2          2          2</span>
<span class="co">#&gt; 3          3          3</span>
<span class="co">#&gt; 4          4          4</span>
<span class="co">#&gt; 5         NA          5</span>
<span class="fu"><a href="../reference/df_trim.html">df_trim</a></span><span class="op">(</span><span class="va">data</span><span class="op">)</span>
<span class="co">#&gt;   c.1.4..NA. c.NA..2.5.</span>
<span class="co">#&gt; 2          2          2</span>
<span class="co">#&gt; 3          3          3</span>
<span class="co">#&gt; 4          4          4</span></code></pre></div>
</div>
<div id="df_merge" class="section level4">
<h4 class="hasAnchor">
<a href="#df_merge" class="anchor"></a>df_merge()</h4>
<p>Full join on an arbitrary number of ‘data.frame’ objects passed as arguments, preserving all unique entries. Can be used to combine historical time series data where each observation is indexed by a unique timestamp and all periods are complete.</p>
<p>Takes an arbitrary number of arguments:</p>
<ul>
<li>
<code>...</code> data.frame objects to combine.</li>
</ul>
<p>Can be used to join price dataframes retrieved by <code><a href="../reference/oanda.html">oanda()</a></code>. The function is designed to join complete historical data. If the data to be merged contains data with incomplete periods, all entries are preserved rather than updated. If incomplete periods are detected within the data, a warning is issued, and the resulting dataframe should be manually inspected in case it contains unwanted duplicates. Use <code><a href="../reference/df_append.html">df_append()</a></code> for updating dataframes with new values.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data1</span> <span class="op">&lt;-</span> <span class="va">sample_ohlc_data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="op">]</span>
<span class="va">data1</span>
<span class="co">#&gt;         time  open  high   low close</span>
<span class="co">#&gt; 1 2020-01-02 123.0 123.1 122.5 122.7</span>
<span class="co">#&gt; 2 2020-01-03 122.7 122.8 122.6 122.8</span>
<span class="co">#&gt; 3 2020-01-05 122.8 123.4 122.4 123.3</span>
<span class="co">#&gt; 4 2020-01-06 123.3 124.3 123.3 124.1</span>
<span class="co">#&gt; 5 2020-01-07 124.1 124.8 124.0 124.8</span>
<span class="co">#&gt; 6 2020-01-08 124.8 125.4 124.5 125.3</span>
<span class="va">data2</span> <span class="op">&lt;-</span> <span class="va">sample_ohlc_data</span><span class="op">[</span><span class="fl">4</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span>
<span class="va">data2</span>
<span class="co">#&gt;          time  open  high   low close</span>
<span class="co">#&gt; 4  2020-01-06 123.3 124.3 123.3 124.1</span>
<span class="co">#&gt; 5  2020-01-07 124.1 124.8 124.0 124.8</span>
<span class="co">#&gt; 6  2020-01-08 124.8 125.4 124.5 125.3</span>
<span class="co">#&gt; 7  2020-01-09 125.3 125.3 124.8 125.2</span>
<span class="co">#&gt; 8  2020-01-10 125.2 125.3 125.1 125.2</span>
<span class="co">#&gt; 9  2020-01-12 125.2 125.2 124.3 124.4</span>
<span class="co">#&gt; 10 2020-01-13 124.4 124.5 123.7 123.9</span>
<span class="fu"><a href="../reference/df_merge.html">df_merge</a></span><span class="op">(</span><span class="va">data1</span>, <span class="va">data2</span><span class="op">)</span>
<span class="co">#&gt;          time  open  high   low close</span>
<span class="co">#&gt; 1  2020-01-02 123.0 123.1 122.5 122.7</span>
<span class="co">#&gt; 2  2020-01-03 122.7 122.8 122.6 122.8</span>
<span class="co">#&gt; 3  2020-01-05 122.8 123.4 122.4 123.3</span>
<span class="co">#&gt; 4  2020-01-06 123.3 124.3 123.3 124.1</span>
<span class="co">#&gt; 5  2020-01-07 124.1 124.8 124.0 124.8</span>
<span class="co">#&gt; 6  2020-01-08 124.8 125.4 124.5 125.3</span>
<span class="co">#&gt; 7  2020-01-09 125.3 125.3 124.8 125.2</span>
<span class="co">#&gt; 8  2020-01-10 125.2 125.3 125.1 125.2</span>
<span class="co">#&gt; 9  2020-01-12 125.2 125.2 124.3 124.4</span>
<span class="co">#&gt; 10 2020-01-13 124.4 124.5 123.7 123.9</span></code></pre></div>
</div>
<div id="df_append" class="section level4">
<h4 class="hasAnchor">
<a href="#df_append" class="anchor"></a>df_append()</h4>
<p>Update a ‘data.frame’ object with new data. Can be used to append new updated time series data to an existing dataframe, where each observation is indexed by a unique timestamp.</p>
<p>Takes 2 arguments:</p>
<ul>
<li>
<code>new</code> data.frame object containing new data.</li>
<li>
<code>old</code> data.frame object containing existing data.</li>
</ul>
<p>Can be used to update price dataframes retrieved by <code><a href="../reference/oanda.html">oanda()</a></code>. The function is designed to update existing data with new values as they become available. As opposed to <code><a href="../reference/df_merge.html">df_merge()</a></code>, the data in ‘new’ will overwrite the data in ‘old’ rather than create duplicates.</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">data1</span> <span class="op">&lt;-</span> <span class="va">sample_ohlc_data</span><span class="op">[</span><span class="fl">7</span><span class="op">:</span><span class="fl">10</span>, <span class="op">]</span>
<span class="va">data1</span>
<span class="co">#&gt;          time  open  high   low close</span>
<span class="co">#&gt; 7  2020-01-09 125.3 125.3 124.8 125.2</span>
<span class="co">#&gt; 8  2020-01-10 125.2 125.3 125.1 125.2</span>
<span class="co">#&gt; 9  2020-01-12 125.2 125.2 124.3 124.4</span>
<span class="co">#&gt; 10 2020-01-13 124.4 124.5 123.7 123.9</span>
<span class="va">data2</span> <span class="op">&lt;-</span> <span class="va">sample_ohlc_data</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span>, <span class="op">]</span>
<span class="va">data2</span>
<span class="co">#&gt;         time  open  high   low close</span>
<span class="co">#&gt; 1 2020-01-02 123.0 123.1 122.5 122.7</span>
<span class="co">#&gt; 2 2020-01-03 122.7 122.8 122.6 122.8</span>
<span class="co">#&gt; 3 2020-01-05 122.8 123.4 122.4 123.3</span>
<span class="co">#&gt; 4 2020-01-06 123.3 124.3 123.3 124.1</span>
<span class="co">#&gt; 5 2020-01-07 124.1 124.8 124.0 124.8</span>
<span class="co">#&gt; 6 2020-01-08 124.8 125.4 124.5 125.3</span>
<span class="co">#&gt; 7 2020-01-09 125.3 125.3 124.8 125.2</span>
<span class="co">#&gt; 8 2020-01-10 125.2 125.3 125.1 125.2</span>
<span class="fu"><a href="../reference/df_append.html">df_append</a></span><span class="op">(</span><span class="va">data1</span>, <span class="va">data2</span><span class="op">)</span>
<span class="co">#&gt;          time  open  high   low close</span>
<span class="co">#&gt; 1  2020-01-02 123.0 123.1 122.5 122.7</span>
<span class="co">#&gt; 2  2020-01-03 122.7 122.8 122.6 122.8</span>
<span class="co">#&gt; 3  2020-01-05 122.8 123.4 122.4 123.3</span>
<span class="co">#&gt; 4  2020-01-06 123.3 124.3 123.3 124.1</span>
<span class="co">#&gt; 5  2020-01-07 124.1 124.8 124.0 124.8</span>
<span class="co">#&gt; 6  2020-01-08 124.8 125.4 124.5 125.3</span>
<span class="co">#&gt; 7  2020-01-09 125.3 125.3 124.8 125.2</span>
<span class="co">#&gt; 8  2020-01-10 125.2 125.3 125.1 125.2</span>
<span class="co">#&gt; 9  2020-01-12 125.2 125.2 124.3 124.4</span>
<span class="co">#&gt; 10 2020-01-13 124.4 124.5 123.7 123.9</span></code></pre></div>
</div>
</div>
</div>
<div id="references" class="section level2">
<h2 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h2>
<p>Gao, C. (2021), <em>ichimoku: Visualization and Tools for Ichimoku Kinko Hyo Strategies</em>. R package version 1.1.0, <a href="https://CRAN.R-project.org/package=ichimoku" class="uri">https://CRAN.R-project.org/package=ichimoku</a>.</p>
<hr>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Charlie Gao.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
